---
description: Trigger phrases → action dispatch map
alwaysApply: true
---

## Dispatch policy
- Select the highest-priority matching trigger family only (single-dispatch).
- Tie-breaker for multiple matches: right-most occurrence in the user message.
- Family precedence:
  Master Toggle > Mode Switch (Deep Analysis) > Ingestion > Analysis Renderer > Auto-Runner > Execute Sub-step > Mark Done > Validate/Inspect > Suggestions.

### Auto Phase Runner
- Triggers:
  - "Execute the next unfinished phase", "Run next phase", "Ituloy ang susunod na phase", "Auto-run phase"
- Action (gate-compliant):
  - Follow `auto_phase_runner.mdc` to preview, run, show, mark done, and re-validate for the next unfinished phase.

#### Analysis Integration
- Analysis results are available for review and can inform execution decisions.
- Execution can proceed regardless of analysis status.

### Ingestion (Agent Plan Ingestion)
- Triggers: "Ingest plan", "Ingest mo ang plan", "Compile actionable plan", "Finalize plan JSON"
- Action:
  - Follow `agent_plan_ingestion.mdc`: Phase 0 + derived phases → human-readable draft → on approval output JSON (content-only; operator/system saves)

### Pre-Execution Analysis (Hybrid)
- Triggers: "Start pre-execution analysis", "Begin pre-execution analysis", "Run analysis before execution", "Pre-execution review"
- Action:
  - Follow `analysis_workflow.mdc`: iterate phases 0..N, call `analyzer.py` per phase, HALT if findings exist, proceed only when phase is clean; declare "Verified and Ready for Execution" when all are clean.

### Analysis Ingestion (Mirror from tasks_active.json)
- Triggers: "Regenerate analysis mirror", "Refresh analysis mirror", "Finalize analysis JSON (analysis)", "Finalize analysis mirror JSON"
- Action:
  - Follow `analysis_ingestion_from_tasks_active.mdc`: Read `tasks_active.json` → produce analysis Human-Readable Draft → finalize analysis JSON (content-only; operator saves to `analysis_active.json`).
